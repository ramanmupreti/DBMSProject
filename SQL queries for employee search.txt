SQL queries for employee search

// in dept AND on project

SELECT DISTINCT E.FNAME, E.LNAME FROM EMPLOYEE E JOIN DEPARTMENT D ON E.DNO = D.DNUMBER JOIN WORKS_ON W ON E.SSN = W.ESSN JOIN PROJECT P ON W.PNO = P.PNUMBER WHERE D.DNAME = "deptName" AND P.PNAME = "projName";


// in dept AND NOT on project

SELECT DISTINCT E.FNAME, E.LNAME FROM EMPLOYEE E JOIN DEPARTMENT D ON E.DNO = D.DNUMBER WHERE D.DNAME = "deptName" AND E.SSN NOT IN (SELECT W.ESSN FROM WORKS_ON W JOIN PROJECT P ON W.PNO = P.PNUMBER WHERE P.PNAME = "projName");


// NOT in dept AND on project

SELECT DISTINCT E.FNAME, E.LNAME FROM EMPLOYEE E JOIN WORKS_ON W ON E.SSN = W.ESSN JOIN PROJECT P ON W.PNO = P.PNUMBER WHERE P.PNAME ="projName" AND E.SSN NOT IN (SELECT E2.SSN FROM EMPLOYEE E2 JOIN DEPARTMENT D2 ON E2.DNO = D2.DNUMBER WHERE D2.DNAME = "deptName");

// NOT in dept AND NOT on project

SELECT DISTINCT E.FNAME, E.LNAME FROM EMPLOYEE E WHERE E.SSN NOT IN (SELECT E2.SSN FROM EMPLOYEE E2 JOIN DEPARTMENT D2 ON E2.DNO = D2.DNUMBER WHERE D2.DNAME = "deptName") AND E.SSN NOT IN (SELECT W.ESSN FROM WORKS_ON W JOIN PROJECT P ON W.PNO = P.PNUMBER WHERE P.PNAME = "projName");
